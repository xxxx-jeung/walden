import{_ as r,o as n,c as o,a as t,e as S,d as C,r as l,t as i,h as c,F as p,i as g,b as _,p as f,j as m,g as y,k as B}from"./index-eef5faca.js";import{g as P}from"./index-490fa33e.js";const b={},I={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},M=t("g",{"clip-path":"url(#clip0_128_108)"},[t("path",{d:"M14.6667 11.28V13.28C14.6675 13.4657 14.6294 13.6495 14.555 13.8196C14.4807 13.9897 14.3716 14.1424 14.2348 14.2679C14.0979 14.3934 13.9364 14.489 13.7605 14.5485C13.5847 14.608 13.3983 14.6301 13.2134 14.6133C11.1619 14.3904 9.19137 13.6894 7.46004 12.5667C5.84926 11.5431 4.48359 10.1775 3.46004 8.56668C2.33336 6.82748 1.6322 4.84734 1.41337 2.78668C1.39671 2.60233 1.41862 2.41652 1.4777 2.2411C1.53679 2.06567 1.63175 1.90447 1.75655 1.76776C1.88134 1.63105 2.03324 1.52182 2.20256 1.44703C2.37189 1.37224 2.55493 1.33352 2.74004 1.33335H4.74004C5.06357 1.33016 5.37723 1.44473 5.62254 1.6557C5.86786 1.86667 6.02809 2.15964 6.07337 2.48001C6.15779 3.12006 6.31434 3.7485 6.54004 4.35335C6.62973 4.59196 6.64915 4.85129 6.59597 5.1006C6.5428 5.34991 6.41928 5.57875 6.24004 5.76001L5.39337 6.60668C6.34241 8.27571 7.72434 9.65764 9.39337 10.6067L10.24 9.76001C10.4213 9.58077 10.6501 9.45725 10.8994 9.40408C11.1488 9.35091 11.4081 9.37032 11.6467 9.46001C12.2516 9.68571 12.88 9.84227 13.52 9.92668C13.8439 9.97237 14.1396 10.1355 14.3511 10.385C14.5625 10.6345 14.6748 10.9531 14.6667 11.28Z",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1),N=t("defs",null,[t("clipPath",{id:"clip0_128_108"},[t("rect",{width:"16",height:"16",fill:"white"})])],-1),D=[M,N];function F(e,s){return n(),o("svg",I,D)}const q=r(b,[["render",F]]),H={},Z={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},E=S('<g clip-path="url(#clip0_128_85)"><path d="M14 6.66666C14 11.3333 8 15.3333 8 15.3333C8 15.3333 2 11.3333 2 6.66666C2 5.07536 2.63214 3.54923 3.75736 2.42402C4.88258 1.2988 6.4087 0.666656 8 0.666656C9.5913 0.666656 11.1174 1.2988 12.2426 2.42402C13.3679 3.54923 14 5.07536 14 6.66666Z" stroke="#4FD685" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M8 8.66666C9.10457 8.66666 10 7.77123 10 6.66666C10 5.56209 9.10457 4.66666 8 4.66666C6.89543 4.66666 6 5.56209 6 6.66666C6 7.77123 6.89543 8.66666 8 8.66666Z" stroke="#4FD685" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></g><defs><clipPath id="clip0_128_85"><rect width="16" height="16" fill="white"></rect></clipPath></defs>',2),V=[E];function j(e,s){return n(),o("svg",Z,V)}const A=r(H,[["render",j]]),z=C({props:{center:{type:Object}},components:{IconPhone:q,IconPin:A},methods:{distanceChange(e){const s=Math.floor(e);return s>=1e3?`${(s/1e3).toFixed(1)}km`:`${s}m`}}});const w=e=>(f("data-v-261215f5"),e=e(),m(),e),U={key:0,class:"list-wrap"},x={class:"list-contents"},O={class:"info-left"},T={class:"clinet-type"},Y={class:"center-name"},G={class:"center-info-wrap"},J={class:"distance"},K={class:"center-address-wrap"},Q={class:"info-right photo"},W=["src"],X={class:"tag-wrap"},ee={class:"btn-wrap"},te=["href"],se=w(()=>t("span",null,"전화",-1)),ne=["href"],oe=w(()=>t("span",null,"위치",-1));function ie(e,s,d,v,L,k){const h=l("IconPhone"),u=l("IconPin");return e.center?(n(),o("li",U,[t("div",x,[t("div",O,[t("span",T,i(e.center.naverPlaceBusinessClassification||"-"),1),t("strong",Y,i(e.center.name||"-"),1),t("ul",G,[t("li",J,[t("strong",null,i(e.distanceChange(e.center.distance)||"0"),1)]),t("li",null,[t("span",null,i(e.center.naverPlaceCellphone||"-"),1)]),t("li",K,[t("span",null,i(e.center.naverPlaceAddress||"-"),1)])])]),t("div",Q,[e.center.imageUrlList?(n(),o("img",{key:0,src:e.center.imageUrlList[0],alt:"센터 사진"},null,8,W)):c("",!0)])]),t("div",X,[t("ul",null,[(n(!0),o(p,null,g(e.center.tagNameList,(a,R)=>(n(),o("li",{class:"tag badge",key:R},i(a),1))),128))])]),t("div",ee,[t("ul",null,[t("li",null,[t("a",{href:`tel:${e.center.naverPlaceCellphone}`,class:"btn btn-call"},[t("i",null,[_(h)]),se],8,te)]),t("li",null,[t("a",{class:"btn btn-naver-map",href:`${e.center.naverPlaceUrl}`,target:"_blank"},[t("i",null,[_(u)]),oe],8,ne)])])])])):c("",!0)}const ce=r(z,[["render",ie],["__scopeId","data-v-261215f5"]]),re={},ae={class:"spinner",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},le=t("path",{d:"M3.5 12C3.5 11.1716 2.82843 10.5 2 10.5C1.17157 10.5 0.5 11.1716 0.5 12H3.5ZM12 0.5C11.1716 0.5 10.5 1.17157 10.5 2C10.5 2.82843 11.1716 3.5 12 3.5L12 0.5ZM20.5 12C20.5 16.6944 16.6944 20.5 12 20.5L12 23.5C18.3513 23.5 23.5 18.3513 23.5 12H20.5ZM12 20.5C7.30558 20.5 3.5 16.6944 3.5 12H0.5C0.499999 18.3513 5.64872 23.5 12 23.5L12 20.5ZM12 3.5C16.6944 3.5 20.5 7.30558 20.5 12H23.5C23.5 5.64873 18.3513 0.5 12 0.5L12 3.5Z",fill:"#e9ecef"},null,-1),de=[le];function he(e,s){return n(),o("svg",ae,de)}const ue=r(re,[["render",he]]),_e=C({components:{ListCard:ce,Spinner:ue},data(){return{centerList:[],latitude:0,longitude:0,selectCenterRecommendedCounselingRequest:{},target:null,centerNo:0,distance:0,isScroll:!1,isSpinner:!0,firstRequest:!0}},methods:{handleScroll(){const e=this.$refs.container;(e==null?void 0:e.offsetHeight)===window.innerHeight+window.scrollY&&!this.isScroll&&(this.isScroll=!0,setTimeout(()=>this.handleLoadMore(),1e3))},handleLoadMore(){const e={centerNo:this.centerNo,distance:this.distance,longitude:this.longitude,latitude:this.latitude,size:15};this.fetchCentersRecommended(e)},askForLocation(){if(navigator.geolocation){const e={enableHighAccuracy:!0,timeout:5e3,maximumAge:0};navigator.geolocation.getCurrentPosition(this.success,this.fail,e)}else this.fail},success(e){console.log("success"),this.centerList=[],this.latitude=e.coords.latitude,this.longitude=e.coords.longitude;const s={longitude:this.longitude,latitude:this.latitude,size:15};this.fetchCentersRecommended(s)},fail(){console.log("fail"),this.centerList=[];const e={longitude:this.longitude,latitude:this.latitude,size:15};this.fetchCentersRecommended(e)},async fetchCentersRecommended(e){try{const s=await P(e);this.firstRequest=!1,s.data.data.centerRecommendedCounselingList.map(d=>{this.centerList.push(d)}),s.data.data.centerRecommendedCounselingList[14]?(this.centerNo=s.data.data.centerRecommendedCounselingList[14].centerNo,this.distance=s.data.data.centerRecommendedCounselingList[14].distance,this.isScroll=!1):(this.isSpinner=!1,this.isScroll=!0)}catch(s){throw new Error(s)}}},mounted(){this.target=document.querySelector("#target"),window.addEventListener("scroll",this.handleScroll)},created(){this.askForLocation()}});const $=e=>(f("data-v-afba7195"),e=e(),m(),e),Ce={class:"container",ref:"container"},pe=$(()=>t("div",{class:"contatiner-title"},[t("h1",null,[t("img",{src:B,alt:"logo"})]),t("h2",{class:"title"},"추천 상담센터")],-1)),ge={class:"contents-wrap target"},fe={key:0,id:"target",ref:"target"},me={key:1,class:"no-data"},we={key:0},$e=$(()=>t("footer",{id:"footer-wrap"},[t("p",null,"© InpsytDoctalk Corp.")],-1));function ve(e,s,d,v,L,k){const h=l("ListCard"),u=l("Spinner");return n(),o("div",Ce,[pe,t("div",ge,[e.centerList.length>0?(n(),o("ul",fe,[(n(!0),o(p,null,g(e.centerList,a=>(n(),y(h,{key:a.centerNo,center:a},null,8,["center"]))),128))],512)):c("",!0),e.isSpinner?(n(),o("div",me,[e.firstRequest?(n(),o("p",we,"위치 정보를 불러오는 중입니다.")):c("",!0),_(u,{class:"spinner"})])):c("",!0)]),$e],512)}const Re=r(_e,[["render",ve],["__scopeId","data-v-afba7195"]]);export{Re as default};
